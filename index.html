<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title>Pablo</title>
        <script src="pablo.js"></script>
    </head>
    <body>
        <h1><a href="https://github.com/dharmafly/pablo">Pablo</a></h1>
        
        <div id="paper"></div>
        <script>
        if (pablo.isSupported){
            var paper = pablo.root('#paper')
                .styles([
                    '* {stroke-width:20}',
                    'text {font-family:sans-serif; font-size:16px}'
                ])
                ('line', {x1:10, y1:10, x2:200, y2:350, stroke:'purple'})
                ('circle', {cx:200, cy:150, r:50, fill:'#f33', stroke:'#050'})
                ('ellipse', {
                    cx:200,
                    cy:270,
                    rx:80,
                    ry:40,
                    stroke:'#222',
                    fill:'#777',
                    opacity:0.5,
                    style:'stroke-width:10'
                })
                ('polyline', {
                    points:'120,100 200,25 280,100',
                    stroke:'#444',
                    fill:'none', 
                    'stroke-linejoin':'round',
                    'stroke-linecap':'round'
                })
                ('defs', {_children: [
                    pablo('path', {
                        id:'squiggle',
                        transform:'rotate(-90 300 170)',
                        d:'M 20 320 C 120 220 220 120 320 220 C 420 320 520 420 620 320'
                    })
                ]})
                (
                    pablo.text()
                    ('textPath', {
                        _content:'In Xanadu, did Kublah Khan a stately pleasuredome decree…',
                        _link:'#squiggle',
                        fill:'#050'
                    })
                )
                (
                    pablo.a({
                        target:'_blank',
                        _link:'https://github.com/dharmafly/pablo'
                    })
                    ('text', {
                        _content:'i ♥ pablo',
                        x:300,
                        y:170,
                        fill:'#777',
                        transform:'rotate(-45 300 170)'
                    })
                );
                
                
                // Animate circle on mouse events
                paper('circle')[0]
                    .attr({style:'cursor:pointer'})
                    .on('mouseover', function(event){
                        pablo(event.target)
                            .empty()
                            ('animate', {
                                attributeName:'fill',
                                from:'#ff3',
                                to:'#005',
                                dur:'1.62s',
                                repeatCount:'indefinite'
                            })
                            ('animate', {
                                attributeName:'r',
                                from:45,
                                to:60,
                                dur:'6s',
                                repeatCount:'indefinite'
                            })
                    })
                    .on('mouseout', function(event){
                        pablo(event.target).empty();
                    })
                    .on('mousedown', function(event){
                        pablo(event.target).attr({stroke:'#fff'});
                    })
                    .on('mouseup', function(event){
                        pablo(event.target).attr({stroke:'#050'});
                    });
                    
                
                /*
                <path id="path1" d="M25, 100 C10,10 175,10 175,100" />
                <use xlink:href="#path1" fill="none" stroke="red"  />
                <text font-size="19.5" fill="blue">
                    <textPath xlink:href="#path1">Hello text-on-a-path world!</textPath>
                </text>
                */
                
                /*
                <defs>  
                    <path id="MyPath"  
                          d="M 100 200   
                             C 200 100 300   0 400 100  
                             C 500 200 600 300 700 200  
                             C 800 100 900 100 900 100" />  
                  </defs>  
  
                  <use xlink:href="#MyPath" fill="none" stroke="red"  />  
  
                  <text font-family="Verdana" font-size="42.5" fill="blue" >  
                    <textPath xlink:href="#MyPath">  
                      We go up, then we go down, then up again  
                    </textPath>  
                  </text>
                */
                
                /*
                .line({x1:10, y1:10, x2:200, y2:350, stroke:'purple'})
                .circle({cx:200, cy:150, r:50, fill:'#f33', stroke:'#050'})
                .ellipse({
                    cx:200,
                    cy:270,
                    rx:80,
                    ry:40,
                    stroke:'#222',
                    fill:'#777',
                    opacity:0.5,
                    style:'stroke-width:10'
                })
                .polyline({
                    points:'120,100 200,25 280,100',
                    stroke:'#444',
                    fill:'none', 
                    'stroke-linejoin':'round',
                    'stroke-linecap':'round'
                });
                */
                
                
                /*
                .style('* {stroke-width:20}')
                ._('line', {x1:10, y1:10, x2:200, y2:350, stroke:'purple'})
                ._('circle', {cx:200, cy:150, r:50, fill:'#f33', stroke:'#050'})
                ._('ellipse', {
                    cx:200,
                    cy:270,
                    rx:80,
                    ry:40,
                    stroke:'#222',
                    fill:'#777',
                    opacity:0.5,
                    style:'stroke-width:10'
                })
                ._('polyline', {
                    points:'120,100 200,25 280,100',
                    stroke:'#444',
                    fill:'none', 
                    'stroke-linejoin':'round',
                    'stroke-linecap':'round'
                });
                */
                
            /*

            var line = paper.child('line', {x1:10, y1:10, x2:200, y2:350, stroke:'purple'}),
                lineInit,
                lineClick = function(){
                    if (!lineInit){
                        line._('animateTransform', {attributeName:'transform', type:"rotate", from:"0 60 70", to:"360 60 70", dur:'1s', repeatCount:'indefinite'});
                    }
                    line.el.removeEventListener('click', lineClick, false);
                }
            
                line.el.addEventListener("click", lineClick, false); 
                */
        }
        </script>
    </body>
</html>